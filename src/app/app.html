<!-- Barra de búsqueda fija -->
<div class="search-bar-wrapper">
  <app-search-bar
    (searchChange)="onSearchChange($event)">
  </app-search-bar>
</div>

<!-- Header solo si hay instrumento -->
<div class="header-container">
  <app-header 
    [selectedInstrumentSignal]="selectedInstrument()">
  </app-header>
</div>

<!-- Contenedor chart + summary -->
<div class="centered-container">
  <div class="chart-summary-container">
    <app-chart *ngIf="selectedInstrument()" 
               [instrument]="selectedInstrument()!">
    </app-chart>

    <app-summary *ngIf="selectedInstrument()" 
                 [instrumentSignal]="selectedInstrument()">
    </app-summary>
  </div>
</div>

<!-- Tabs estilo Chart -->
<div class="periods tabs-container">
  <button class="period-btn" [class.active]="selectedIndex() === 'IPSA'" (click)="setIndex('IPSA')">IPSA</button>
  <button class="period-btn" [class.active]="selectedIndex() === 'IGPA'" (click)="setIndex('IGPA')">IGPA</button>
  <button class="period-btn" [class.active]="selectedIndex() === 'NASDAQ'" (click)="setIndex('NASDAQ')">NASDAQ</button>
</div>

<!-- Contenido de cada índice -->
<div class="index-content">
  <app-instrument-list #instrumentListRef
    *ngIf="selectedIndex() === 'IPSA'"
    [indexCode]="'IPSA'"
    (instrumentSelected)="onInstrumentSelected($event)">
  </app-instrument-list>

  <div *ngIf="selectedIndex() === 'IGPA'" class="empty-index">
    <p>No hay datos para IGPA</p>
  </div>

  <div *ngIf="selectedIndex() === 'NASDAQ'" class="empty-index">
    <p>No hay datos para NASDAQ</p>
  </div>
</div>
